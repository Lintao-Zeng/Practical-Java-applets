<html> 
    <head>
        <title>MCQ</title>
    </head>
    <body>
        <center>
        <div id="question">temp_question</div>
        <button id="a1" onclick="check(document.getElementById('a1').innerText)">temp_a1</button><br>
        <button id="a2" onclick="check(document.getElementById('a2').innerText)">temp_a2</button><br>
        <button id="a3" onclick="check(document.getElementById('a3').innerText)">temp_a3</button><br>
        <button id="a4" onclick="check(document.getElementById('a4').innerText)">temp_a4</button>
        </center>
    </body>
    <style>
        button{
            margin-top: 25px;
        }
    </style>
    <script>
        var correct = "";
        var options = new Array("1","2","3","4");
        var questions = new Array("一","二","三","四","五","六","七","八","九","十");
        var answers = new Array("1","2","3","4","5","6","7","8","9","10");
        var answers2 = [].concat(answers);
        var index = 0;
        var question_au;

    start();

    function start(){
        if(index==answers.length){
            index=0;
        }

        document.getElementById("question").innerText = questions[index];
        question_au = new Audio("https://fanyi.baidu.com/gettts?lan=zh&text=" + questions[index] + "&spd=5&source=web");
        setTimeout(function (){
            question_au.play();
        }, 500);
        
        options.sort(function() {
        return (0.5-Math.random());
        });

        document.getElementById("a" + options[2]).innerText = answers[index];
        correct = answers[index];

        answers2.sort(function() {
        return (0.5-Math.random());
        });

        var temp1,temp2,a=0;

    while(true){
        if(answers2[a]==correct){
        a++;
        }
        else{
        document.getElementById("a" + options[0]).innerText = answers2[a];
        temp1 = answers2[a];
        a = 0;
        break;
        }
    }

    while(true){
        if(answers2[a]==correct||answers2[a]==temp1){
        a++;
        }
        else{
        document.getElementById("a" + options[1]).innerText = answers2[a];
        temp2 = answers2[a];
        a = 0;
        break;
        }
    }

    while(true){
        if(answers2[a]==correct||answers2[a]==temp1||answers2[a]==temp2){
        a++;
        }
        else{
        document.getElementById("a" + options[3]).innerText = answers2[a];
        a = 0;
        break;
        }
    }

    }

    var wrong = new Audio("wrong.mp3");
    var right = new Audio("right.mp3");

    function check(text){
        if(text==correct){
        right.play();
        index++;
        start();
        }else
        wrong.play();
    }
    </script>
</html>
